namespace = spa_formation_of_power_blocs

## Handel Extern##

spa_formation_of_power_blocs.1 = {
	type = country_event
	placement = root
	hidden = yes

	cooldown = { days = 1750 }

	trigger = {
		c:SPA = {
			is_ai = yes
			OR = {
				AND  = {			
					country_rank >= rank_value:unrecognized_major_power
					global_country_ranking <= 8
				}
				country_rank >= rank_value:great_power
			}	
			NOT = { has_law_or_variant = law_type:law_isolationism }
			NOT = { is_country_type = decentralized }
			is_revolutionary = no
			is_in_power_bloc = no
			is_at_war = no
			is_subject = no
			OR = {
				AND = {
					ig:ig_industrialists ?= { is_in_government = yes }
					has_law_or_variant = law_type:law_free_trade
				}
				AND = {
					has_strategy = ai_strategy_economic_imperialism
					has_law_or_variant = law_type:law_free_trade
				}
			}
			NOT = {
				has_law_or_variant = law_type:law_anarchy
				has_law_or_variant = law_type:law_state_atheism
				has_law = law_type:law_technocracy
				has_law_or_variant = law_type:law_theocracy
				has_law = law_type:law_corporate_state
				has_radical_leftist_government = yes
			}
		}
		game_date >= 1837.1.1
	}

	immediate = {
		if = {
			limit = {
				exists = c:SPA
				c:SPA = {
					is_ai = yes
					OR = {
						AND  = {			
							country_rank >= rank_value:unrecognized_major_power
							global_country_ranking <= 8
						}
						country_rank >= rank_value:great_power
					}	
					NOT = { has_law_or_variant = law_type:law_isolationism }
					NOT = { is_country_type = decentralized }
					is_revolutionary = no
					is_in_power_bloc = no
					is_at_war = no
					is_subject = no
					OR = {
						AND = {
							ig:ig_industrialists ?= { is_in_government = yes }
							has_law_or_variant = law_type:law_free_trade
						}
						AND = {
							has_strategy = ai_strategy_economic_imperialism
							has_law_or_variant = law_type:law_free_trade
						}
					}
					NOT = {
						has_law_or_variant = law_type:law_anarchy
						has_law_or_variant = law_type:law_state_atheism
						has_law = law_type:law_technocracy
						has_law_or_variant = law_type:law_theocracy
						has_law = law_type:law_corporate_state
						has_radical_leftist_government = yes
					}
				}
				game_date >= 1837.1.1
			}
			c:SPA = {
				create_power_bloc = {
					name = "Unión Aduanera Progresista"
					map_color = { 216 168 36 }
					identity = identity_trade_league
					principle = principle_external_trade_1
				}
			}
		}
	}
}

## Interner Handel ##

spa_formation_of_power_blocs.2 = {
	type = country_event
	placement = root
	hidden = yes

	cooldown = { days = 1750 }

	trigger = {
		c:SPA = {
			is_ai = yes
			OR = {
				AND  = {			
					country_rank >= rank_value:unrecognized_major_power
					global_country_ranking <= 8
				}
				country_rank >= rank_value:great_power
			}	
			NOT = { has_law_or_variant = law_type:law_isolationism }
			NOT = { is_country_type = decentralized }
			is_revolutionary = no
			is_in_power_bloc = no
			is_at_war = no
			is_subject = no
			AND = {
				ig:ig_industrialists ?= { is_in_government = yes }
				has_strategy = ai_strategy_economic_imperialism
				OR = {
					has_law_or_variant = law_type:law_mercantilism
					has_law_or_variant = law_type:law_protectionism
				}
			}
			NOT = {
				has_law_or_variant = law_type:law_anarchy
				has_law_or_variant = law_type:law_state_atheism
				has_law = law_type:law_technocracy
				has_law_or_variant = law_type:law_theocracy
				has_law = law_type:law_corporate_state
				has_radical_leftist_government = yes
			}
			game_date >= 1837.1.1
		}
	}

	immediate = {
		if = {
			limit = {
				exists = c:SPA
				c:SPA = {
					is_ai = yes
					OR = {
						AND  = {			
							country_rank >= rank_value:unrecognized_major_power
							global_country_ranking <= 8
						}
						country_rank >= rank_value:great_power
					}	
					NOT = { has_law_or_variant = law_type:law_isolationism }
					NOT = { is_country_type = decentralized }
					is_revolutionary = no
					is_in_power_bloc = no
					is_at_war = no
					is_subject = no
					AND = {
						ig:ig_industrialists ?= { is_in_government = yes }
						has_strategy = ai_strategy_economic_imperialism
						OR = {
							has_law_or_variant = law_type:law_mercantilism
							has_law_or_variant = law_type:law_protectionism
						}
					}
					NOT = {
						has_law_or_variant = law_type:law_anarchy
						has_law_or_variant = law_type:law_state_atheism
						has_law = law_type:law_technocracy
						has_law_or_variant = law_type:law_theocracy
						has_law = law_type:law_corporate_state
						has_radical_leftist_government = yes
					}
					game_date >= 1837.1.1
				}
			}
			c:SPA = {
				create_power_bloc = {
					name = "Liga Proteccionista Española"
					map_color = { 216 168 36 }
					identity = identity_trade_league
					principle = principle_internal_trade_1
				}
			}
		}
	}
}

## Vasallen ##
spa_formation_of_power_blocs.3 = {
	type = country_event
	placement = root
	hidden = yes

	cooldown = { days = 1750 }

	trigger = {
		c:SPA = {
			is_ai = yes
			OR = {
				AND  = {			
					country_rank >= rank_value:unrecognized_major_power
					global_country_ranking <= 8
				}
				country_rank >= rank_value:great_power
			}	
			NOT = { has_law_or_variant = law_type:law_isolationism }
			NOT = { is_country_type = decentralized }
			is_revolutionary = no
			is_in_power_bloc = no
			is_at_war = no
			is_subject = no
			num_subjects >= 2
			num_defensive_pacts >= 1
			num_rivals >= 1
			OR = {
				has_law = law_type:law_chiefdom
				has_law = law_type:law_monarchy
			}
			NOT = {
				has_law_or_variant = law_type:law_anarchy
				has_law_or_variant = law_type:law_state_atheism
				has_law = law_type:law_technocracy
				has_law_or_variant = law_type:law_theocracy
				has_law = law_type:law_corporate_state
				has_radical_leftist_government = yes
			}			
			game_date >= 1837.1.1
		}
	}

	immediate = {
		if = {
			limit = {
				exists = c:SPA
				c:SPA = {
					is_ai = yes
					OR = {
						AND  = {			
							country_rank >= rank_value:unrecognized_major_power
							global_country_ranking <= 8
						}
						country_rank >= rank_value:great_power
					}	
					NOT = { has_law_or_variant = law_type:law_isolationism }
					NOT = { is_country_type = decentralized }
					is_revolutionary = no
					is_in_power_bloc = no
					is_at_war = no
					is_subject = no
					num_subjects >= 2
					num_defensive_pacts >= 1
					num_rivals >= 1
					OR = {
						has_law = law_type:law_chiefdom
						has_law = law_type:law_monarchy
					}
					NOT = {
						has_law_or_variant = law_type:law_anarchy
						has_law_or_variant = law_type:law_state_atheism
						has_law = law_type:law_technocracy
						has_law_or_variant = law_type:law_theocracy
						has_law = law_type:law_corporate_state
						has_radical_leftist_government = yes
					}					
					game_date >= 1837.1.1
				}
			}
			c:SPA = {
				create_power_bloc = {
					name = "Unión Real de las Españas"
					map_color = { 216 168 36 }
					identity = identity_sovereign_empire
					principle = principle_vassalization_1
				}
			}
		}
	}
}

### Ausbeutung ###

spa_formation_of_power_blocs.4 = {
	type = country_event
	placement = root
	hidden = yes

	cooldown = { days = 1750 }

	trigger = {
		c:SPA = {
			is_ai = yes
			OR = {
				AND  = {			
					country_rank >= rank_value:unrecognized_major_power
					global_country_ranking <= 8
				}
				country_rank >= rank_value:great_power
			}	
			NOT = { has_law_or_variant = law_type:law_isolationism }
			NOT = { is_country_type = decentralized }
			is_revolutionary = no
			is_in_power_bloc = no
			is_at_war = no
			is_subject = no
			num_colony_projects >= 2
			num_subjects >= 1
			OR = {
				has_strategy = ai_strategy_territorial_expansion
				has_strategy = ai_strategy_economic_imperialism
			}
			game_date >= 1837.1.1
			OR = {
				has_law = law_type:law_chiefdom
				has_law = law_type:law_monarchy
				has_law = law_type:law_autocracy
				has_law = law_type:law_single_party_state
			}
			NOT = {
				has_law_or_variant = law_type:law_anarchy
				has_law_or_variant = law_type:law_state_atheism
				has_law = law_type:law_technocracy
				has_law_or_variant = law_type:law_theocracy
				has_law = law_type:law_corporate_state
				has_radical_leftist_government = yes
			}
		}
	}

	immediate = {
		if = {
			limit = {
				exists = c:SPA
				c:SPA = {
					is_ai = yes
					OR = {
						AND  = {			
							country_rank >= rank_value:unrecognized_major_power
							global_country_ranking <= 8
						}
						country_rank >= rank_value:great_power
					}	
					NOT = { has_law_or_variant = law_type:law_isolationism }
					NOT = { is_country_type = decentralized }
					is_revolutionary = no
					is_in_power_bloc = no
					is_at_war = no
					is_subject = no
					num_colony_projects >= 2
					num_subjects >= 1
					OR = {
						has_strategy = ai_strategy_territorial_expansion
						has_strategy = ai_strategy_economic_imperialism
					}
					game_date >= 1837.1.1
					OR = {
						has_law = law_type:law_chiefdom
						has_law = law_type:law_monarchy
						has_law = law_type:law_autocracy
						has_law = law_type:law_single_party_state
					}
					NOT = {
						has_law_or_variant = law_type:law_anarchy
						has_law_or_variant = law_type:law_state_atheism
						has_law = law_type:law_technocracy
						has_law_or_variant = law_type:law_theocracy
						has_law = law_type:law_corporate_state
						has_radical_leftist_government = yes
					}
				}
			}
			c:SPA = {
				create_power_bloc = {
					name = "Liga del Imperio Español"
					map_color = { 216 168 36 }
					identity = identity_sovereign_empire
					principle = principle_exploit_members_1
				}
			}
		}
	}
}

## Freiheitliche Ideologie ##

spa_formation_of_power_blocs.5 = {
	type = country_event
	placement = root
	hidden = yes

	cooldown = { days = 1750 }

	trigger = {
		c:SPA = {
			is_ai = yes
			OR = {
				AND  = {			
					country_rank >= rank_value:unrecognized_major_power
					global_country_ranking <= 8
				}
				country_rank >= rank_value:great_power
			}	
			NOT = { has_law_or_variant = law_type:law_isolationism }
			NOT = { is_country_type = decentralized }
			is_revolutionary = no
			is_in_power_bloc = no
			is_at_war = no
			is_subject = no
			has_strategy = ai_strategy_maintain_power_balance
			ig:ig_intelligentsia ?= { is_in_government = yes }
			OR = {
				has_law = law_type:law_presidential_republic
				has_law = law_type:law_parliamentary_republic
				has_law = law_type:law_corporate_state
			}					
			OR = {
				has_law = law_type:law_landed_voting
				has_law = law_type:law_wealth_voting
				has_law = law_type:law_census_voting
				has_law = law_type:law_universal_suffrage
			}
			NOT = {
				has_law_or_variant = law_type:law_anarchy
				has_law_or_variant = law_type:law_state_atheism
				has_law = law_type:law_technocracy
				has_law_or_variant = law_type:law_theocracy
				has_law = law_type:law_corporate_state
				has_radical_leftist_government = yes
			}
			game_date >= 1837.1.1
		}
	}

	immediate = {
		if = {
			limit = {
				exists = c:SPA
				c:SPA = {
					is_ai = yes
					OR = {
						AND  = {			
							country_rank >= rank_value:unrecognized_major_power
							global_country_ranking <= 8
						}
						country_rank >= rank_value:great_power
					}	
					NOT = { has_law_or_variant = law_type:law_isolationism }
					NOT = { is_country_type = decentralized }
					is_revolutionary = no
					is_in_power_bloc = no
					is_at_war = no
					is_subject = no
					has_strategy = ai_strategy_maintain_power_balance
					ig:ig_intelligentsia ?= { is_in_government = yes }
					OR = {
						has_law = law_type:law_presidential_republic
						has_law = law_type:law_parliamentary_republic
						has_law = law_type:law_corporate_state
					}					
					OR = {
						has_law = law_type:law_landed_voting
						has_law = law_type:law_wealth_voting
						has_law = law_type:law_census_voting
						has_law = law_type:law_universal_suffrage
					}
					NOT = {
						has_law_or_variant = law_type:law_anarchy
						has_law_or_variant = law_type:law_state_atheism
						has_law = law_type:law_technocracy
						has_law_or_variant = law_type:law_theocracy
						has_law = law_type:law_corporate_state
						has_radical_leftist_government = yes
					}
					game_date >= 1837.1.1
				}
			}
			c:SPA = {
				create_power_bloc = {
					name = "Consejo Democrático de Madrid"
					map_color = { 208 106 194 }
					identity = identity_ideological_union
					principle = principle_ideological_truth_1
				}
			}
		}
	}
}

## Kommunistische Ideologie ##

spa_formation_of_power_blocs.6 = {
	type = country_event
	placement = root
	hidden = yes

	cooldown = { days = 1750 }

	trigger = {
		c:SPA = {
			is_ai = yes
			OR = {
				AND  = {			
					country_rank >= rank_value:unrecognized_major_power
					global_country_ranking <= 8
				}
				country_rank >= rank_value:great_power
			}	
			NOT = { has_law_or_variant = law_type:law_isolationism }
			NOT = { is_country_type = decentralized }
			is_revolutionary = no
			is_in_power_bloc = no
			is_at_war = no
			is_subject = no
			has_radical_leftist_government = yes
			game_date >= 1837.1.1
			NOT = {
				has_law_or_variant = law_type:law_anarchy
				has_law = law_type:law_technocracy
				has_law_or_variant = law_type:law_theocracy
				has_law = law_type:law_corporate_state
			}
		}
	}

	immediate = {
		if = {
			limit = {
				exists = c:SPA
				c:SPA = {
					is_ai = yes
					OR = {
						AND  = {			
							country_rank >= rank_value:unrecognized_major_power
							global_country_ranking <= 8
						}
						country_rank >= rank_value:great_power
					}	
					NOT = { has_law_or_variant = law_type:law_isolationism }
					NOT = { is_country_type = decentralized }
					is_revolutionary = no
					is_in_power_bloc = no
					is_at_war = no
					is_subject = no
					has_radical_leftist_government = yes
					game_date >= 1837.1.1
					NOT = {
						has_law_or_variant = law_type:law_anarchy
						has_law = law_type:law_technocracy
						has_law_or_variant = law_type:law_theocracy
						has_law = law_type:law_corporate_state
					}
				}
			}
			c:SPA = {
				create_power_bloc = {
					name = "Unión Socialista de Bilbao"
					map_color = { 174 50 47 }
					identity = identity_ideological_union
					principle = principle_ideological_truth_1
				}
			}
		}
	}
}

## Faschistische Ideologie ##

spa_formation_of_power_blocs.7 = {
	type = country_event
	placement = root
	hidden = yes

	cooldown = { days = 1750 }

	trigger = {
		c:SPA = {
			is_ai = yes
			OR = {
				AND  = {			
					country_rank >= rank_value:unrecognized_major_power
					global_country_ranking <= 8
				}
				country_rank >= rank_value:great_power
			}	
			NOT = { has_law_or_variant = law_type:law_isolationism }
			NOT = { is_country_type = decentralized }
			is_revolutionary = no
			is_in_power_bloc = no
			is_at_war = no
			is_subject = no
			has_law = law_type:law_corporate_state
			OR = {
				has_law = law_type:law_elder_council
				has_law = law_type:law_oligarchy
				has_law = law_type:law_technocracy
				has_law = law_type:law_autocracy
				has_law = law_type:law_single_party_state						
				ruler ?= {
					OR = {
						has_ideology = ideology:ideology_fascist
						has_ideology = ideology:ideology_integralist
						has_ideology = ideology:ideology_corporatist_leader
					}
				}
			}
			NOT = {
				has_law_or_variant = law_type:law_anarchy
				has_law_or_variant = law_type:law_theocracy
				has_radical_leftist_government = yes
			}			
		}
		game_date >= 1837.1.1
	}

	immediate = {
		if = {
			limit = {
				exists = c:SPA
				c:SPA = {
					is_ai = yes
					OR = {
						AND  = {			
							country_rank >= rank_value:unrecognized_major_power
							global_country_ranking <= 8
						}
						country_rank >= rank_value:great_power
					}	
					NOT = { has_law_or_variant = law_type:law_isolationism }
					NOT = { is_country_type = decentralized }
					is_revolutionary = no
					is_in_power_bloc = no
					is_at_war = no
					is_subject = no
					has_law = law_type:law_corporate_state
					OR = {
						has_law = law_type:law_elder_council
						has_law = law_type:law_oligarchy
						has_law = law_type:law_technocracy
						has_law = law_type:law_autocracy
						has_law = law_type:law_single_party_state						
						ruler ?= {
							OR = {
								has_ideology = ideology:ideology_fascist
								has_ideology = ideology:ideology_integralist
								has_ideology = ideology:ideology_corporatist_leader
							}
						}
					}
					NOT = {
						has_law_or_variant = law_type:law_anarchy
						has_law_or_variant = law_type:law_theocracy
						has_radical_leftist_government = yes
					}
				}
				game_date >= 1837.1.1
			}
			c:SPA = {
				create_power_bloc = {
					name = "Falange Española"
					map_color = { 123 28 28 }
					identity = identity_ideological_union
					principle = principle_ideological_truth_1
				}
			}
		}
	}
}

## Technokratische Ideologie ##

spa_formation_of_power_blocs.8 = {
	type = country_event
	placement = root
	hidden = yes

	cooldown = { days = 1750 }

	trigger = {
		c:SPA = {
			is_ai = yes
			OR = {
				AND  = {			
					country_rank >= rank_value:unrecognized_major_power
					global_country_ranking <= 8
				}
				country_rank >= rank_value:great_power
			}	
			NOT = { has_law_or_variant = law_type:law_isolationism }
			NOT = { is_country_type = decentralized }
			is_revolutionary = no
			is_in_power_bloc = no
			is_at_war = no
			is_subject = no
			has_law = law_type:law_technocracy
			game_date >= 1837.1.1
			NOT = {
				has_law_or_variant = law_type:law_anarchy
				has_law_or_variant = law_type:law_theocracy
				has_law = law_type:law_corporate_state
				has_radical_leftist_government = yes
			}
		}
	}

	immediate = {
		if = {
			limit = {
				exists = c:SPA
				c:SPA = {
					is_ai = yes
					OR = {
						AND  = {			
							country_rank >= rank_value:unrecognized_major_power
							global_country_ranking <= 8
						}
						country_rank >= rank_value:great_power
					}	
					NOT = { has_law_or_variant = law_type:law_isolationism }
					NOT = { is_country_type = decentralized }
					is_revolutionary = no
					is_in_power_bloc = no
					is_at_war = no
					is_subject = no
					has_law = law_type:law_technocracy
					NOT = {
						has_law_or_variant = law_type:law_anarchy
						has_law_or_variant = law_type:law_theocracy
						has_law = law_type:law_corporate_state
						has_radical_leftist_government = yes
					}
				}
				game_date >= 1837.1.1
			}
			c:SPA = {
				create_power_bloc = {
					name = "Liga Regeneracionista"
					map_color = { 216 168 36 }
					identity = identity_ideological_union
					principle = principle_creative_legislature_1
				}
			}
		}
	}
}

## Bedrohung von Aussen ##

spa_formation_of_power_blocs.9 = {
	type = country_event
	placement = root
	hidden = yes

	cooldown = { days = 1750 }

	trigger = {
		c:SPA = {
			is_ai = yes
			OR = {
				AND  = {			
					country_rank >= rank_value:unrecognized_major_power
					global_country_ranking <= 8
				}
				country_rank >= rank_value:great_power
			}	
			NOT = { has_law_or_variant = law_type:law_isolationism }
			NOT = { is_country_type = decentralized }
			is_revolutionary = no
			is_in_power_bloc = no
			is_at_war = no
			is_subject = no
			num_subjects <= 1
			num_rivals >=2
			game_date >= 1837.1.1
			NOT = {
				has_law_or_variant = law_type:law_anarchy
				has_law_or_variant = law_type:law_state_atheism
				has_law = law_type:law_technocracy
				has_law_or_variant = law_type:law_theocracy
				has_radical_leftist_government = yes
			}
			any_rivaling_country = {
				num_alliances_and_defensive_pacts_with_rivals:root >= 1
			}
		}
	}

	immediate = {
		if = {
			limit = {
				exists = c:SPA
				c:SPA = {
					is_ai = yes
					OR = {
						AND  = {			
							country_rank >= rank_value:unrecognized_major_power
							global_country_ranking <= 8
						}
						country_rank >= rank_value:great_power
					}	
					NOT = { has_law_or_variant = law_type:law_isolationism }
					NOT = { is_country_type = decentralized }
					is_revolutionary = no
					is_in_power_bloc = no
					is_at_war = no
					is_subject = no
					num_subjects <= 1
					num_rivals >=2
					game_date >= 1837.1.1
					NOT = {
						has_law_or_variant = law_type:law_anarchy
						has_law_or_variant = law_type:law_state_atheism
						has_law = law_type:law_technocracy
						has_law_or_variant = law_type:law_theocracy
						has_radical_leftist_government = yes
					}
				}
			}
			c:SPA = {
				create_power_bloc = {
					name = "Consejo de Defensa Patrio"
					map_color = { 216 168 36 }
					identity = identity_military_treaty_organization
					principle = principle_defensive_cooperation_1
				}
			}
		}
	}
}

## Expansion ##

spa_formation_of_power_blocs.10 = {
	type = country_event
	placement = root
	hidden = yes

	cooldown = { days = 1750 }

	trigger = {
		c:SPA = {
			is_ai = yes
			OR = {
				AND  = {			
					country_rank >= rank_value:unrecognized_major_power
					global_country_ranking <= 8
				}
				country_rank >= rank_value:great_power
			}	
			NOT = { has_law_or_variant = law_type:law_isolationism }
			NOT = { is_country_type = decentralized }
			is_revolutionary = no
			is_in_power_bloc = no
			is_at_war = no
			is_subject = no
			has_strategy = ai_strategy_territorial_expansion
			ig:ig_armed_forces ?= { is_in_government = yes }
			game_date >= 1837.1.1
			NOT = {
				has_law_or_variant = law_type:law_anarchy
				has_law_or_variant = law_type:law_state_atheism
				has_law = law_type:law_technocracy
				has_law_or_variant = law_type:law_theocracy
				has_radical_leftist_government = yes
			}
			ruler = {
				AND = {
					OR = {
						has_trait = arrogant
						has_trait = bigoted
						has_trait = reckless
						has_trait = ambitious
						has_trait = imperious
						has_trait = wrathful
						has_trait = cruel
						has_trait = brave
						has_trait = imposing
						has_trait = ruthless
					}
					OR = {
						has_ideology = ideology:ideology_radical
						has_ideology = ideology:ideology_jingoist_leader
						has_ideology = ideology:ideology_royalist
						has_ideology = ideology:ideology_communist
						has_ideology = ideology:ideology_vanguardist
						has_ideology = ideology:ideology_fascist
						has_ideology = ideology:ideology_ethno_nationalist
						has_ideology = ideology:ideology_authoritarian
						has_ideology = ideology:ideology_corporatist_leader
						has_ideology = ideology:ideology_despotic_utopian
						has_ideology = ideology:ideology_miguelist_2
						has_ideology = ideology:ideology_miguelist
						has_ideology = ideology:ideology_carlist_2
						has_ideology = ideology:ideology_carlist
					}
				}
			}
		}
	}

	immediate = {
		if = {
			limit = {
				exists = c:SPA
				c:SPA = {
					is_ai = yes
					OR = {
						AND  = {			
							country_rank >= rank_value:unrecognized_major_power
							global_country_ranking <= 8
						}
						country_rank >= rank_value:great_power
					}	
					NOT = { has_law_or_variant = law_type:law_isolationism }
					NOT = { is_country_type = decentralized }
					is_revolutionary = no
					is_in_power_bloc = no
					is_at_war = no
					is_subject = no
					has_strategy = ai_strategy_territorial_expansion
					ig:ig_armed_forces ?= { is_in_government = yes }
					game_date >= 1837.1.1
					NOT = {
						has_law_or_variant = law_type:law_anarchy
						has_law_or_variant = law_type:law_state_atheism
						has_law = law_type:law_technocracy
						has_law_or_variant = law_type:law_theocracy
						has_radical_leftist_government = yes
					}
					ruler = {
						AND = {
							OR = {
								has_trait = arrogant
								has_trait = bigoted
								has_trait = reckless
								has_trait = ambitious
								has_trait = imperious
								has_trait = wrathful
								has_trait = cruel
								has_trait = brave
								has_trait = imposing
								has_trait = ruthless
							}
							OR = {
								has_ideology = ideology:ideology_radical
								has_ideology = ideology:ideology_jingoist_leader
								has_ideology = ideology:ideology_royalist
								has_ideology = ideology:ideology_communist
								has_ideology = ideology:ideology_vanguardist
								has_ideology = ideology:ideology_fascist
								has_ideology = ideology:ideology_ethno_nationalist
								has_ideology = ideology:ideology_authoritarian
								has_ideology = ideology:ideology_corporatist_leader
								has_ideology = ideology:ideology_despotic_utopian
								has_ideology = ideology:ideology_miguelist_2
								has_ideology = ideology:ideology_miguelist
								has_ideology = ideology:ideology_carlist_2
								has_ideology = ideology:ideology_carlist
							}
						}
					}
				}
			}
			c:SPA = {
				create_power_bloc = {
					name = "Consejo Militar Imperial"
					map_color = { 216 168 36 }
					identity = identity_military_treaty_organization
					principle = principle_aggressive_coordination_1
				}
			}
		}
	}
}

## Religion Christlich - Oekonomie ##

spa_formation_of_power_blocs.11 = {
	type = country_event
	placement = root
	hidden = yes

	cooldown = { days = 1750 }

	trigger = {
		c:SPA = {
			is_ai = yes
			OR = {
				AND  = {			
					country_rank >= rank_value:unrecognized_major_power
					global_country_ranking <= 8
				}
				country_rank >= rank_value:great_power
			}	
			NOT = { has_law_or_variant = law_type:law_isolationism }
			NOT = { is_country_type = decentralized }
			is_revolutionary = no
			is_in_power_bloc = no
			is_at_war = no
			is_subject = no
			num_subjects >= 3
			ig:ig_devout ?= { is_in_government = yes }
			has_law_or_variant = law_type:law_state_religion
			has_law_or_variant = law_type:law_theocracy
			religion = {
				has_discrimination_trait = heritage_christian
			}
			NOT = {
				has_law_or_variant = law_type:law_anarchy
				has_law_or_variant = law_type:law_state_atheism
				has_law = law_type:law_technocracy
				has_law = law_type:law_corporate_state
				has_radical_leftist_government = yes
			}
			game_date >= 1837.1.1
		}
	}

	immediate = {
		if = {
			limit = {
				exists = c:SPA
				c:SPA = {
					is_ai = yes
					OR = {
						AND  = {			
							country_rank >= rank_value:unrecognized_major_power
							global_country_ranking <= 8
						}
						country_rank >= rank_value:great_power
					}	
					NOT = { has_law_or_variant = law_type:law_isolationism }
					NOT = { is_country_type = decentralized }
					is_revolutionary = no
					is_in_power_bloc = no
					is_at_war = no
					is_subject = no
					num_subjects >= 3
					ig:ig_devout ?= { is_in_government = yes }
					has_law_or_variant = law_type:law_state_religion
					has_law_or_variant = law_type:law_theocracy
					religion = {
						has_discrimination_trait = heritage_christian
					}
					game_date >= 1837.1.1
					NOT = {
						has_law_or_variant = law_type:law_anarchy
						has_law_or_variant = law_type:law_state_atheism
						has_law = law_type:law_technocracy
						has_law = law_type:law_corporate_state
						has_radical_leftist_government = yes
					}
				}
			}
			c:SPA = {
				create_power_bloc = {
					name = "Bloque del Reino Santo"
					map_color = { 216 168 36 }
					identity = identity_religious
					principle = principle_divine_economics_1
				}
			}
		}
	}
}

## Religion Christlich - Zivilgesellschaft ##

spa_formation_of_power_blocs.12 = {
	type = country_event
	placement = root
	hidden = yes

	cooldown = { days = 1750 }

	trigger = {
		c:SPA = {
			is_ai = yes
			OR = {
				AND  = {			
					country_rank >= rank_value:unrecognized_major_power
					global_country_ranking <= 8
				}
				country_rank >= rank_value:great_power
			}	
			NOT = { has_law_or_variant = law_type:law_isolationism }
			NOT = { is_country_type = decentralized }
			is_revolutionary = no
			is_in_power_bloc = no
			is_at_war = no
			is_subject = no
			num_subjects <= 2
			ig:ig_devout ?= { is_in_government = yes }
			has_law_or_variant = law_type:law_state_religion
			has_law_or_variant = law_type:law_theocracy
			religion = {
				has_discrimination_trait = heritage_christian
			}
			game_date >= 1837.1.1
			NOT = {
				has_law_or_variant = law_type:law_anarchy
				has_law_or_variant = law_type:law_state_atheism
				has_law = law_type:law_technocracy
				has_law = law_type:law_corporate_state
				has_radical_leftist_government = yes
			}
		}
	}

	immediate = {
		if = {
			limit = {
				exists = c:SPA
				c:SPA = {
					is_ai = yes
					OR = {
						AND  = {			
							country_rank >= rank_value:unrecognized_major_power
							global_country_ranking <= 8
						}
						country_rank >= rank_value:great_power
					}	
					NOT = { has_law_or_variant = law_type:law_isolationism }
					NOT = { is_country_type = decentralized }
					is_revolutionary = no
					is_in_power_bloc = no
					is_at_war = no
					is_subject = no
					num_subjects <= 2
					ig:ig_devout ?= { is_in_government = yes }
					has_law_or_variant = law_type:law_state_religion
					has_law_or_variant = law_type:law_theocracy
					religion = {
						has_discrimination_trait = heritage_christian
					}
					game_date >= 1837.1.1
					NOT = {
						has_law_or_variant = law_type:law_anarchy
						has_law_or_variant = law_type:law_state_atheism
						has_law = law_type:law_technocracy
						has_law = law_type:law_corporate_state
						has_radical_leftist_government = yes
					}
				}
			}
			c:SPA = {
				create_power_bloc = {
					name = "Liga Católica Española"
					map_color = { 216 168 36 }
					identity = identity_religious
					principle = principle_sacred_civics_1
				}
			}
		}
	}
}

## Religion Atheistisch ##

spa_formation_of_power_blocs.13 = {
	type = country_event
	placement = root
	hidden = yes

	cooldown = { days = 1750 }

	trigger = {
		c:SPA = {
			is_ai = yes
			OR = {
				AND  = {			
					country_rank >= rank_value:unrecognized_major_power
					global_country_ranking <= 8
				}
				country_rank >= rank_value:great_power
			}	
			NOT = { has_law_or_variant = law_type:law_isolationism }
			NOT = { is_country_type = decentralized }
			is_revolutionary = no
			is_in_power_bloc = no
			is_at_war = no
			is_subject = no
			has_law_or_variant = law_type:law_state_atheism
			game_date >= 1837.1.1
			NOT = {
				has_law_or_variant = law_type:law_anarchy
				has_law = law_type:law_technocracy
				has_law_or_variant = law_type:law_theocracy
				has_law = law_type:law_corporate_state
				has_radical_leftist_government = yes
			}
		}
	}

	immediate = {
		if = {
			limit = {
				exists = c:SPA
				c:SPA = {
					is_ai = yes
					OR = {
						AND  = {			
							country_rank >= rank_value:unrecognized_major_power
							global_country_ranking <= 8
						}
						country_rank >= rank_value:great_power
					}	
					NOT = { has_law_or_variant = law_type:law_isolationism }
					NOT = { is_country_type = decentralized }
					is_revolutionary = no
					is_in_power_bloc = no
					is_at_war = no
					is_subject = no
					has_law_or_variant = law_type:law_state_atheism
					game_date >= 1837.1.1
					NOT = {
						has_law_or_variant = law_type:law_anarchy
						has_law = law_type:law_technocracy
						has_law_or_variant = law_type:law_theocracy
						has_law = law_type:law_corporate_state
						has_radical_leftist_government = yes
					}
				}
			}
			c:SPA = {
				create_power_bloc = {
					name = "Alianza del Progreso Libre"
					map_color = { 216 168 36 }
					identity = identity_ideological_union
					principle = principle_ideological_truth_1
				}
			}
		}
	}
}

## Kulturunion ##

spa_formation_of_power_blocs.14 = {
	type = country_event
	placement = root
	hidden = yes

	cooldown = { days = 1750 }

	trigger = {
		c:SPA = {
			is_ai = yes
			OR = {
				AND  = {			
					country_rank >= rank_value:unrecognized_major_power
					global_country_ranking <= 8
				}
				country_rank >= rank_value:great_power
			}	
			NOT = { has_law_or_variant = law_type:law_isolationism }
			NOT = { is_country_type = decentralized }
			is_revolutionary = no
			is_in_power_bloc = no
			is_at_war = no
			is_subject = no
			NOT = {
				has_law_or_variant = law_type:law_anarchy
				has_law_or_variant = law_type:law_state_atheism
				has_law = law_type:law_technocracy
				has_law_or_variant = law_type:law_theocracy
				has_law = law_type:law_corporate_state
				has_radical_leftist_government = yes
			}
		}
		c:SPA = {
			any_scope_ally = {
				OR = {
					country_has_primary_culture = cu:basque
					country_has_primary_culture = cu:spanish
					country_has_primary_culture = cu:catalan
					country_has_primary_culture = cu:asturleonese
					country_has_primary_culture = cu:iberian
				}
			}	
		}
		game_date >= 1837.1.1
	}

	immediate = {
		if = {
			limit = {
				exists = c:SPA
				c:SPA = {
					is_ai = yes
					OR = {
						AND  = {			
							country_rank >= rank_value:unrecognized_major_power
							global_country_ranking <= 8
						}
						country_rank >= rank_value:great_power
					}	
					NOT = { has_law_or_variant = law_type:law_isolationism }
					NOT = { is_country_type = decentralized }
					is_revolutionary = no
					is_in_power_bloc = no
					is_at_war = no
					is_subject = no
					game_date >= 1837.1.1
					NOT = {
						has_law_or_variant = law_type:law_anarchy
						has_law_or_variant = law_type:law_state_atheism
						has_law = law_type:law_technocracy
						has_law_or_variant = law_type:law_theocracy
						has_law = law_type:law_corporate_state
						has_radical_leftist_government = yes
					}
				}
			}
			c:SPA = {
				create_power_bloc = {
					name = "Bloque Iberista"
					map_color = { 216 168 36 }
					identity = identity_cultural
					principle = principle_shared_canon_1
				}
			}
		}
	}
}
## Migration ##

spa_formation_of_power_blocs.15 = {
	type = country_event
	placement = root
	hidden = yes

	cooldown = { days = 1750 }

	trigger = {
		c:SPA = {
			is_ai = yes
			OR = {
				AND  = {			
					country_rank >= rank_value:unrecognized_major_power
					global_country_ranking <= 8
				}
				country_rank >= rank_value:great_power
			}	
			NOT = { has_law_or_variant = law_type:law_isolationism }
			NOT = { is_country_type = decentralized }
			is_revolutionary = no
			is_in_power_bloc = no
			is_at_war = no
			is_subject = no
			game_date >= 1837.1.1
			OR = {
				is_in_geographic_region = geographic_region_north_america
				is_in_geographic_region = geographic_region_central_america
				is_in_geographic_region = geographic_region_south_america
			}
			ig:ig_intelligentsia ?= { is_in_government = yes }
			has_strategy = ai_strategy_progressive_agenda
			NOT = { has_law_or_variant = law_type:law_migration_controls }
			NOT = {
				has_law_or_variant = law_type:law_anarchy
				has_law_or_variant = law_type:law_state_atheism
				has_law = law_type:law_technocracy
				has_law_or_variant = law_type:law_theocracy
				has_law = law_type:law_corporate_state
				has_radical_leftist_government = yes
			}			
		}
	}

	immediate = {
		if = {
			limit = {
				exists = c:SPA
				c:SPA = {
					is_ai = yes
					OR = {
						AND  = {			
							country_rank >= rank_value:unrecognized_major_power
							global_country_ranking <= 8
						}
						country_rank >= rank_value:great_power
					}	
					NOT = { has_law_or_variant = law_type:law_isolationism }
					NOT = { is_country_type = decentralized }
					is_revolutionary = no
					is_in_power_bloc = no
					is_at_war = no
					is_subject = no
					game_date >= 1837.1.1
					OR = {
						is_in_geographic_region = geographic_region_north_america
						is_in_geographic_region = geographic_region_central_america
						is_in_geographic_region = geographic_region_south_america
					}
					ig:ig_intelligentsia ?= { is_in_government = yes }
					has_strategy = ai_strategy_progressive_agenda
					NOT = { has_law_or_variant = law_type:law_migration_controls }
					NOT = {
						has_law_or_variant = law_type:law_anarchy
						has_law_or_variant = law_type:law_state_atheism
						has_law = law_type:law_technocracy
						has_law_or_variant = law_type:law_theocracy
						has_law = law_type:law_corporate_state
						has_radical_leftist_government = yes
					}					
				}
			}
			c:SPA = {
				create_power_bloc = {
					name = "Consejo de Nuevas Ciudades"
					map_color = { 216 168 36 }
					identity = identity_cultural
					principle = principle_freedom_of_movement_1
				}
			}
		}
	}
}

## Anarchie ##

spa_formation_of_power_blocs.16 = {
	type = country_event
	placement = root
	hidden = yes

	cooldown = { days = 1750 }

	trigger = {
		c:SPA = {
			is_ai = yes
			OR = {
				AND  = {			
					country_rank >= rank_value:unrecognized_major_power
					global_country_ranking <= 8
				}
				country_rank >= rank_value:great_power
			}	
			NOT = { has_law_or_variant = law_type:law_isolationism }
			NOT = { is_country_type = decentralized }
			is_revolutionary = no
			is_in_power_bloc = no
			is_at_war = no
			is_subject = no
			has_law_or_variant = law_type:law_anarchy
			game_date >= 1837.1.1
			NOT = {
				has_law = law_type:law_technocracy
				has_law_or_variant = law_type:law_theocracy
				has_law = law_type:law_corporate_state
			}
		}
	}

	immediate = {
		if = {
			limit = {
				exists = c:SPA
				c:SPA = {
					is_ai = yes
					OR = {
						AND  = {			
							country_rank >= rank_value:unrecognized_major_power
							global_country_ranking <= 8
						}
						country_rank >= rank_value:great_power
					}	
					NOT = { has_law_or_variant = law_type:law_isolationism }
					NOT = { is_country_type = decentralized }
					is_revolutionary = no
					is_in_power_bloc = no
					is_at_war = no
					is_subject = no
					has_law_or_variant = law_type:law_anarchy
				}
				game_date >= 1837.1.1
				NOT = {
					has_law = law_type:law_technocracy
					has_law_or_variant = law_type:law_theocracy
					has_law = law_type:law_corporate_state
				}
			}
			c:SPA = {
				create_power_bloc = {
					name = "Confederación del Trabajo"
					map_color = { 155 155 155 }
					identity = identity_ideological_union
					principle = principle_ideological_truth_1
				}
			}
		}
	}
}
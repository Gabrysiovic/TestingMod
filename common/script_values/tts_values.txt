our_side_penetration = {
	battle = {
		every_combat_unit = {
			limit = {
				owner = scope:character.owner
			}
			add = {
				value = flotilla_pen_value
				multiply = this.manpower
			}
		}
	}
	divide = {
		battle = {
			every_combat_unit = {
				limit = {
					owner = scope:character.owner
				}
				add = this.manpower
			}
		}
		min = 1
	}
}

enemy_side_armor = {
	battle = {
		every_combat_unit = {
			limit = {
				owner = scope:character.opposing_commander.owner
			}
			add = {
				value = flotilla_armor_value
				multiply = this.manpower
			}
		}
	}
	divide = {
		battle = {
			every_combat_unit = {
				limit = {
					owner = scope:character.opposing_commander.owner
				}
				add = this.manpower
			}
		}
		min = 1
	}
}

formation_penetration = {
	every_combat_unit = {
		add = {
			add = flotilla_pen_value
			multiply = this.manpower
		}
	}
	if = {
		limit = {
			any_combat_unit = {
				count >= 1
				manpower >= 1
			}
		}
		divide = {
			every_combat_unit = {
				add = this.manpower
			}
		}
	}
	else = {
		value = 0
	}
}

formation_armor = {
	every_combat_unit = {
		add = {
			add = flotilla_armor_value
			multiply = this.manpower
		}
	}
	if = {
		limit = {
			any_combat_unit = {
				count >= 1
				manpower >= 1
			}
		}
		divide = {
			every_combat_unit = {
				add = this.manpower
			}
		}
	}
	else = {
		value = 0
	}
}
